{"version":3,"file":"commonHelpers.js","sources":["../src/js/refs.js","../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export const refs = {\n    formElem: document.querySelector('.form'),\n    listElem: document.querySelector('.gallery-list'),\n    loadElem: document.querySelector('.loader'),\n    btnLoadMore: document.querySelector('btn-load-more'),\n};","import axios from \"axios\";\n\nexport async function searchGallery(query) {\n    const API_KEY = '42280765-41e7252ac679e023dc9db9847';\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n    const url = `${BASE_URL}${END_POINT}`;\n\n    const params = {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        page: 1,\n        per_page: 15,\n    };\n\n    try {\n        const response = await axios.get(url, { params });\n\n        const photosArray = response.data.hits.map(photo => ({\n            id: photo.id,\n            imageUrl: photo.largeImageURL,\n            webformatURL: photo.webformatURL,\n            alt: photo.tags,\n            likes: photo.likes,\n            views: photo.views,\n            comments: photo.comments,\n            downloads: photo.downloads,\n        }));\n\n        return photosArray;\n    } catch (error) {\n        console.error('There has been a problem with your axios request:', error);\n        throw error;\n    }\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction galleryTemplate(image) {\n    const { imageUrl, webformatURL, alt, likes, views, comments, downloads } =\n        image;\n\n    return `<li class=\"gallery-item\">\n    <div class=\"gallery\">\n    <a class=\"gallery-link\" href=\"${imageUrl}\">\n    <img\n        class=\"gallery-image\"\n        src=\"${webformatURL}\"\n        alt=\"${alt}\"\n        width=360\n    />\n    </a>\n    <div class=\"gallery-info\">\n    <p class=\"item-text\">Likes: ${likes}</p>\n    <p class=\"item-text\">Views: ${views}</p>\n    <p class=\"item-text\">Comments: ${comments}</p>\n    <p class=\"item-text\">Downloads: ${downloads}</p>\n    </div>\n    </div>\n    </li>`;\n}\n\nexport function galleresTemplate(images) {\n    return images.map(galleryTemplate).join('');\n}\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\nlightbox.refresh();\n","import iziToast from \"izitoast\";\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nimport { refs } from \"./js/refs\";\nimport { searchGallery } from \"./js/pixabay-api\";\nimport { galleresTemplate } from \"./js/render-function\";\n\nrefs.loadElem.style.display = 'none';\n\nrefs.formElem.addEventListener('submit', onFotmSubmit);\n\nasync function onFotmSubmit(ev) {\n    ev.preventDefault();\n\n    const query = ev.target.elements.query.value.trim();\n    if (!query) {\n        iziToast.error({\n            title: 'Sorry',\n            message: 'Please enter text to search for.',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    refs.loadElem.style.display = 'blok';\n\n    const data = await searchGallery(query);\n        renderImages(data);\n    \n    ev.target.reset();\n}\n\nfunction renderImages(images) {\n    const markup = galleresTemplate(images);\n    refs.listElem.insertAdjacentHTML('beforeend', markup);\n}"],"names":["refs","searchGallery","query","API_KEY","url","params","axios","photo","error","galleryTemplate","image","imageUrl","webformatURL","alt","likes","views","comments","downloads","galleresTemplate","images","lightbox","SimpleLightbox","onFotmSubmit","ev","iziToast","data","renderImages","markup"],"mappings":"owBAAO,MAAMA,EAAO,CAChB,SAAU,SAAS,cAAc,OAAO,EACxC,SAAU,SAAS,cAAc,eAAe,EAChD,SAAU,SAAS,cAAc,SAAS,EAC1C,YAAa,SAAS,cAAc,eAAe,CACvD,ECHO,eAAeC,EAAcC,EAAO,CACvC,MAAMC,EAAU,qCAGVC,EAAM,2BAENC,EAAS,CACX,IAAKF,EACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAM,EACN,SAAU,EAClB,EAEI,GAAI,CAcA,OAbiB,MAAMI,EAAM,IAAIF,EAAK,CAAE,OAAAC,CAAM,CAAE,GAEnB,KAAK,KAAK,IAAIE,IAAU,CACjD,GAAIA,EAAM,GACV,SAAUA,EAAM,cAChB,aAAcA,EAAM,aACpB,IAAKA,EAAM,KACX,MAAOA,EAAM,MACb,MAAOA,EAAM,MACb,SAAUA,EAAM,SAChB,UAAWA,EAAM,SACpB,EAAC,CAGL,OAAQC,EAAO,CACZ,cAAQ,MAAM,oDAAqDA,CAAK,EAClEA,CACT,CACL,CClCA,SAASC,EAAgBC,EAAO,CAC5B,KAAM,CAAE,SAAAC,EAAU,aAAAC,EAAc,IAAAC,EAAK,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EACpEP,EAEJ,MAAO;AAAA;AAAA,oCAEyBC,CAAQ;AAAA;AAAA;AAAA,eAG7BC,CAAY;AAAA,eACZC,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA,kCAKgBC,CAAK;AAAA,kCACLC,CAAK;AAAA,qCACFC,CAAQ;AAAA,sCACPC,CAAS;AAAA;AAAA;AAAA,UAI/C,CAEO,SAASC,EAAiBC,EAAQ,CACrC,OAAOA,EAAO,IAAIV,CAAe,EAAE,KAAK,EAAE,CAC9C,CAEA,MAAMW,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EACDD,EAAS,QAAS,EC3BlBpB,EAAK,SAAS,MAAM,QAAU,OAE9BA,EAAK,SAAS,iBAAiB,SAAUsB,CAAY,EAErD,eAAeA,EAAaC,EAAI,CAC5BA,EAAG,eAAc,EAEjB,MAAMrB,EAAQqB,EAAG,OAAO,SAAS,MAAM,MAAM,OAC7C,GAAI,CAACrB,EAAO,CACRsB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mCACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDxB,EAAK,SAAS,MAAM,QAAU,OAE9B,MAAMyB,EAAO,MAAMxB,EAAcC,CAAK,EAClCwB,EAAaD,CAAI,EAErBF,EAAG,OAAO,OACd,CAEA,SAASG,EAAaP,EAAQ,CAC1B,MAAMQ,EAAST,EAAiBC,CAAM,EACtCnB,EAAK,SAAS,mBAAmB,YAAa2B,CAAM,CACxD"}